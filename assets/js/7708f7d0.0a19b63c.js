"use strict";(self.webpackChunkzodart_doc=self.webpackChunkzodart_doc||[]).push([[940],{1328:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"errors_and_localization","title":"\ud83d\udea7 Errors and localization","description":"Localization","source":"@site/docs/4-errors_and_localization.md","sourceDirName":".","slug":"/errors_and_localization","permalink":"/errors_and_localization","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"\ud83d\udea7 Errors and localization","desctiption":"Customizing errors messages and localization","keywords":["error","issue","message","localization","customization"],"last_update":{"date":"10/6/2025","author":"Zbynek Zundalek"}},"sidebar":"tutorialSidebar","previous":{"title":"\ud83d\udea7 Value transformation","permalink":"/defining_schemas/value_transformation"},"next":{"title":"\ud83d\udea7 Community","permalink":"/community"}}');var s=a(4848),r=a(8453);const i={sidebar_position:4,title:"\ud83d\udea7 Errors and localization",desctiption:"Customizing errors messages and localization",keywords:["error","issue","message","localization","customization"],last_update:{date:"10/6/2025",author:"Zbynek Zundalek"}},o=void 0,l={},c=[{value:"Localization",id:"localization",level:2},{value:"\ud83d\udea7 Add description",id:"-add-description",level:3},{value:"Custom error handling",id:"custom-error-handling",level:2},{value:"\ud83d\udea7 Add description",id:"-add-description-1",level:3},{value:"Example",id:"example",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"localization",children:"Localization"}),"\n",(0,s.jsx)(n.h3,{id:"-add-description",children:"\ud83d\udea7 Add description"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Default language is set to English, to change it use ",(0,s.jsx)(n.code,{children:"ZLocalizationContext.current"})]}),"\n",(0,s.jsxs)(n.li,{children:["ZodArt contains various helpers for error handling, see ",(0,s.jsx)(n.a,{href:"https://pub.dev/documentation/zodart/latest/zodart/",children:"documentation for more info"})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"custom-error-handling",children:"Custom error handling"}),"\n",(0,s.jsx)(n.h3,{id:"-add-description-1",children:"\ud83d\udea7 Add description"}),"\n",(0,s.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,s.jsxs)(n.p,{children:["See ",(0,s.jsx)(n.a,{href:"https://github.com/zzundalek/zodart/tree/main/example/localization/localization.dart",children:"full example"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-dart",children:"import 'package:zodart/zodart.dart';\n\npart 'localization.zodart.dart';\npart 'localization.zodart.type.dart';\n\n/// Schema defined using ZodArt (generates [Person] class)\n@ZodArt.generateNewClass(outputClassName: 'Person')\nabstract class PersonSchema {\n  /// Validates that:\n  /// - `firstName` is from 1 to 20 characters long\n  /// - `lastName` is from 1 to 30 characters long\n  /// - `age` is \u2265 0 (optional)\n  static final schema = (\n    firstName: ZString().min(1).max(20),\n    lastName: ZString().min(1).max(30),\n    age: ZInt().optional().min(0),\n  );\n\n  static const z = _PersonSchemaUtils();\n  static final ZObject<Person> zObject = z.zObject;\n}\n\nvoid main() {\n  final result = PersonSchema.zObject.parse({'firstName': '', 'lastName': 'Art', 'age': -1});\n\n  // Prints an English error message summary (default)\n  print(result.issueSummary);\n\n  // Change localization to Czech (see other supported languages)\n  ZLocalizationContext.current = ZIssueLocalizationService(Language.cs);\n\n  // Prints error message summary in Czech\n  print(result.issueSummary);\n\n  // To get the individual localized message strings\n  final messages = result.issueMessages;\n  print(messages);\n\n  // Each issue is represented by a `ZIssue` instance\n  final zIssues = result.rawIssues;\n\n  // Custom translation logic using pattern matching (Dart 3+)\n  final customMessages =\n      zIssues?.map((zIssue) {\n        return switch (zIssue) {\n          ZIssueMinNotMet(:final min, :final val) => 'My custom message: $val is lower than $min!',\n          _ => 'My custom message: Other problem',\n        };\n      }) ??\n      [];\n\n  print('\\nCustom messages:');\n  print(customMessages);\n\n  // To get error message summary only for the 'age' property\n  print('\\nMessage for the age field:');\n  print(result.getSummaryFor(PersonSchema.z.props.age.name));\n}\n"})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>i,x:()=>o});var t=a(6540);const s={},r=t.createContext(s);function i(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);